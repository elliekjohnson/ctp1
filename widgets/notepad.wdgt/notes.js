
ack.module("ack.tools.notes",function(l){var h=!1,n=function(){if(!h){var d=document.createElement("style");d.innerHTML='.ack-notes-container {background: rgb(237,231,175);background: -moz-linear-gradient(45deg,  rgba(237,231,175,1) 0%, rgba(232,220,129,1) 87%);background: -webkit-gradient(linear, left bottom, right top, color-stop(0%,rgba(237,231,175,1)), color-stop(87%,rgba(232,220,129,1)));background: -webkit-linear-gradient(45deg,  rgba(237,231,175,1) 0%,rgba(232,220,129,1) 87%);background: -o-linear-gradient(45deg,  rgba(237,231,175,1) 0%,rgba(232,220,129,1) 87%);background: -ms-linear-gradient(45deg,  rgba(237,231,175,1) 0%,rgba(232,220,129,1) 87%);background: linear-gradient(45deg,  rgba(237,231,175,1) 0%,rgba(232,220,129,1) 87%);filter: progid:DXImageTransform.Microsoft.gradient( startColorstr="#ede7af", endColorstr="#e8dc81",GradientType=1 );position: relative;width:100%;height:100%;}.ack-notes-container:before, .ack-notes-container:after {z-index: -1;position: absolute;content: "";bottom: 15px;left: 10px;width: 50%;top: 80%;max-width:300px;background: rgba(0, 0, 0, 0.7);-webkit-box-shadow: 0 15px 10px rgba(0,0,0, 0.7);-moz-box-shadow: 0 15px 10px rgba(0, 0, 0, 0.7);box-shadow: 0 15px 10px rgba(0, 0, 0, 0.7);-webkit-transform: rotate(-3deg);-moz-transform: rotate(-3deg);-o-transform: rotate(-3deg);-ms-transform: rotate(-3deg);transform: rotate(-3deg);}.ack-notes-container:after {-webkit-transform: rotate(3deg);-moz-transform: rotate(3deg);-o-transform: rotate(3deg);-ms-transform: rotate(3deg);transform: rotate(3deg);right: 10px;left: auto;}.ack-notes-textarea-container {position:absolute;top: 50px;bottom: 20px;left: 20px;right: 20px;}.ack-notes-textarea {width: 100%;height: 100%;resize: none;border: none;background-color: transparent;outline:none;font-family: Verdana, Geneva, sans-serif;font-size: 16px;line-height: 20px;}.ack-notes-textarea::-webkit-scrollbar {-webkit-appearance: none;width: 7px;}.ack-notes-textarea::-webkit-scrollbar-thumb {border-radius: 4px;background-color: rgba(0,0,0,.5);-webkit-box-shadow: 0 0 1px rgba(255,255,255,.5);}';
h=!0;document.head.insertBefore(d,document.head.childNodes[0])}};l.NotePad=function(d,j){j.jquery&&(j=j[0]);n();var b=this,h=null,i=null,a=null,k,e={onload:[],onsave:[]};b.containerClassList=function(){return i.classList};b.textareaClassList=function(){return a.classList};b.addEventListener=function(c,b){if(0===c.indexOf("x-")){var f=c.replace("x-","");e[f]&&e[f].push(b)}else a.addEventListener(c,b,!1)};b.removeEventListener=function(c,b){if(0===c.indexOf("x-")){var f=c.replace("x-","");if(e[f])for(var d=
0;d<e[f].length;d++)if(e[f][d]===b){e[f][d].splice(d,1);break}}else a.removeEventListener(c,b,!1)};b.value=function(c){void 0!==c&&(a.value=c);return a.value};b.reload=function(c){ack.widgetdb.get("notes_"+d,function(a){b.value(a);c&&c()})};b.save=function(c){ack.widgetdb.set("notes_"+d,b.value(),function(){c&&c()})};var m=function(c){for(var b=[],a=0;a<e[c].length;a++)b.push(e[c][a]);for(a=0;a<b.length;a++)b[a]()},l=function(a){ack.widgetdb.set("notes_"+d,b.value(),function(){a&&a();m("onsave")})},
o=function(a){ack.widgetdb.get("notes_"+d,function(d){b.value(d);a();m("onload")})},g=function(){clearTimeout(h);h=setTimeout(function(){l(function(){})},250)};b.focus=function(){};(function(){i=document.createElement("div");i.classList.add("ack-notes-container");k=document.createElement("div");k.classList.add("ack-notes-textarea-container");a=document.createElement("textarea");a.classList.add("ack-notes-textarea");i.appendChild(k);k.appendChild(a);j.appendChild(i);o(function(){a.onclick=g;a.onchange=
g;a.onkeyup=g;a.onkeypress=g;a.onpaste=g;a.oninput=g})})();return b}});
